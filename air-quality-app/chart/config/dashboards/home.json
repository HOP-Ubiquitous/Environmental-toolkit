{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 4,
  "iteration": 1666606520031,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "datasource": {
        "type": "datasource",
        "uid": "grafana"
      },
      "gridPos": {
        "h": 4,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 2,
      "options": {
        "mode": "html",
        "content": "<style>\n@import url('https://fonts.googleapis.com/css2?family=Anton&display=swap');\n\n.dashboard-header {\n  background: #c1101c;\n  width: 100%;\n  height: 120px;\n  text-align: left\n}\n\n.dashboard-header-left {\n  width: calc(100% - 300px);\n  height: 120px;\n  float: left;\n  position: relative;\n}\n\n.dashboard-header-left-overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: url('https://demo.hopu.eu/public/img/heatmap_bg_test.svg') no-repeat center center;\n  background-size: cover;\n  mix-blend-mode: multiply;\n}\n\n.dashboard-header-right {\n  width: 300px;\n  height: 120px;\n  float: right;\n  background: #fff;\n  text-align: center;\n}\n\n.dashboard-header-right img {\n  height: 50px;\n  width: auto;\n  margin: 35px auto;\n}\n\n.dashboard-header-left-left {\n  width: calc(100% - 90px);\n  height: 120px;\n  float: left;\n}\n\n.dashboard-header-left-right {\n  width: 90px;\n  height: 120px;\n  float: right;\n}\n\n.dashboard-title {\n  width: 100%;\n  height: 120px;\n}\n\n.dashboard-subtitle {\n  width: 100%;\n  height: 40px;\n}\n\n.dashboard-title h1 {\n  color: #fff;\n  font-family: 'Anton',Helvetica Neue,Arial,sans-serif;\n  font-size: 36px;\n  margin-left: 20px;\n  line-height: 120px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  float: left;\n  position: relative;\n  z-index: 1;\n}\n\n.dashboard-subtitle span {\n  margin: 0 0 0 20px;\n  color: #fff;\n  display: block;\n  font-family: 'Roboto',Helvetica Neue,Arial,sans-serif;\n  font-size: 16px;\n  line-height: 30px;\n  border: none !important;\n  padding: 0 !important;\n  position: relative;\n  z-index: 1;\n}\n\n.back-container-icon {\n  width: 50px;\n  height: 50px;\n  background: #fff;\n  text-align: center;\n  float: right;\n  margin: 35px 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: 0.3s ease all;\n  position: relative;\n  z-index: 1;\n}\n  \n.back-container-icon span {\n  height: auto;\n  width: auto;\n  color: #c1101c;\n  transition: 0.3s ease all;\n}\n  \na:hover .back-container-icon {\n  background: #611927;\n}\n\n@media screen and (max-width: 720px) {\n  .dashboard-header-left, .dashboard-header-right {\n    width: 100%;\n    height: 60px;\n    float: none;\n  }\n  \n  .dashboard-header-right img {\n    height: 50px;\n    margin: 5px auto;\n  }\n\n  .dashboard-header-left-left {\n    height: 60px;\n  }\n\n  .dashboard-header-left-right {\n    height: 60px;\n  }\n  \n  .dashboard-title {\n    height: 60px;\n  }\n\n  .dashboard-title h1 {\n    line-height: 60px;\n    font-size: 32px;\n    margin: 5px 0 0 10px;\n  }\n  \n  .back-container-text {\n    height: 60px;\n    display: none;\n  }\n\n  .back-container-text h5 {\n    line-height: 60px;\n  }\n  \n  .back-container-icon {\n    width: 30px;\n    height: 30px;\n    margin: 20px 10px;\n  }\n  \n  .back-container-icon span {\n    line-height: 17px;\n  }\n  \n  .mapcontainer {\n    width: calc(100% - 40px);\n    margin: auto;\n  }\n  \n}\n\n</style>\n\n  <div class=\"dashboard-header\">\n    <div class=\"dashboard-header-left\">\n\n      <div class=\"dashboard-header-left-overlay\"></div>\n      \n      <div class=\"dashboard-header-left-left\">\n        <div class=\"dashboard-title\">\n          <h1 style=\"font-weight: 700\">\n            AIR QUALITY INDEX (ICA)\n          </h1>\n        </div>\n      </div>\n      \n      <!-- Ocultar en Main Menu -->\n      <a href=\"/d/aqapp-home\">\n        <div class=\"dashboard-header-left-right\">\n          <div class=\"back-container-icon\">\n            <span class=\"fa fa-chevron-left\"></span>\n          </div>\n        </div>\n      </a>\n      <!-- -->\n\n    </div>\n    \n    <div class=\"dashboard-header-right\">\n      <a href=\"https://hopu.eu/\" target=\"_blank\">\n        <img src=\"https://hopu.eu/wp-content/grafana/libelium/libelium-logo-horizontal.svg\">\n      <a>\n    </div>\n\n  </div\n"
      },
      "pluginVersion": "8.5.2",
      "transparent": true,
      "type": "text"
    },
    {
      "datasource": {
        "type": "yesoreyeram-infinity-datasource",
        "uid": "4"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 19,
        "w": 18,
        "x": 0,
        "y": 4
      },
      "id": 10,
      "options": {
        "basemap": {
          "config": {},
          "name": "Layer 0",
          "type": "default"
        },
        "controls": {
          "mouseWheelZoom": true,
          "showAttribution": true,
          "showDebug": false,
          "showScale": false,
          "showZoom": true
        },
        "layers": [
          {
            "config": {
              "showLegend": true,
              "style": {
                "color": {
                  "fixed": "dark-green"
                },
                "opacity": 0.4,
                "rotation": {
                  "fixed": 0,
                  "max": 360,
                  "min": -360,
                  "mode": "mod"
                },
                "size": {
                  "fixed": 5,
                  "max": 15,
                  "min": 2
                },
                "symbol": {
                  "fixed": "img/icons/marker/circle.svg",
                  "mode": "fixed"
                },
                "textConfig": {
                  "fontSize": 12,
                  "offsetX": 0,
                  "offsetY": 0,
                  "textAlign": "center",
                  "textBaseline": "middle"
                }
              }
            },
            "location": {
              "mode": "auto"
            },
            "name": "AirQuality",
            "tooltip": true,
            "type": "markers"
          }
        ],
        "view": {
          "id": "fit",
          "lat": 0,
          "lon": 0,
          "zoom": 14
        }
      },
      "pluginVersion": "8.5.2",
      "targets": [
        {
          "columns": [],
          "datasource": {
            "type": "yesoreyeram-infinity-datasource",
            "uid": "4"
          },
          "filters": [],
          "format": "table",
          "global_query_id": "",
          "parser": "simple",
          "refId": "A",
          "root_selector": "",
          "source": "url",
          "type": "json",
          "uql": "parse-json",
          "url": "http://scorpioservice.odala-staging.svc.cluster.local:9090/ngsi-ld/v1/entities?type=https%3A%2F%2Furi.fiware.org%2Fns%2Fdata-models%23AirQualityObserved&q=operationalStatus==\"CONNECTED\",\"DISCONNECTED\"&options=keyValues",
          "url_options": {
            "data": "",
            "headers": [
              {
                "key": "x-admin-access",
                "value": "allow"
              },
              {
                "key": "Link",
                "value": "https://schema.lab.fiware.org/ld/context; rel=http://www.w3.org/ns/json-ld#context; type=application/ld+json"
              }
            ],
            "method": "GET",
            "params": []
          }
        }
      ],
      "transformations": [
        {
          "id": "extractFields",
          "options": {
            "format": "json",
            "replace": false,
            "source": "location"
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [],
            "match": "any",
            "type": "exclude"
          }
        },
        {
          "id": "extractFields",
          "options": {
            "format": "json",
            "replace": false,
            "source": "coordinates"
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "coordinates": true,
              "location": true,
              "type 1": false,
              "type 2": true
            },
            "indexByName": {
              "0": 3,
              "1": 4,
              "CO": 5,
              "NO2": 6,
              "O3": 7,
              "PM1": 8,
              "PM10": 9,
              "PM25": 10,
              "SO2": 11,
              "coordinates": 16,
              "https://uri.fiware.org/ns/data-models#TimeInstant": 12,
              "id": 0,
              "location": 13,
              "name": 2,
              "operationalStatus": 14,
              "source": 15,
              "type 1": 1,
              "type 2": 17
            },
            "renameByName": {
              "0": "longitude",
              "1": "latitude",
              "https://uri.fiware.org/ns/data-models#TimeInstant": "TimeInstant"
            }
          }
        }
      ],
      "transparent": true,
      "type": "geomap"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "grafana"
      },
      "gridPos": {
        "h": 2,
        "w": 6,
        "x": 18,
        "y": 4
      },
      "id": 8,
      "options": {
        "mode": "html",
        "content": "<style>\n\n  .button-container {\n    width: 100%;\n    height: 50px;\n    background: #c1101c;\n    padding: 0 10px;\n    transition: 0.3s ease all;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .button-container:hover {\n    background: #611927;\n  }\n\n  .button-container-overlay {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    mix-blend-mode: multiply;\n    background: url('https://demo.hopu.eu/public/img/heatmap_bg_test.svg') no-repeat center center;\n    background-size: cover;\n  }\n\n  .button-container-left {\n    float: left;\n    width: 30px;\n    height: 30px;\n    margin: 10px 0;\n    background: #fff;\n    text-align: center;\n    position: relative;\n    z-index: 1;\n  }\n\n  .button-container-left span {\n    color: #c1101c;\n    line-height: 30px;\n    font-weight: 700;\n    font-size: 18px;\n  }\n\n  .button-container-right {\n    float: right;\n    width: calc(100% - 50px);\n    height: 50px;\n    margin: 0;\n    position: relative;\n    z-index: 1;\n  }\n\n  .button-container-right h1 {\n    color: #fff;\n    font-family: 'Anton', sans-serif;\n    font-size: 16px;\n    line-height: 50px\n  }\n\n</style>\n\n<a href=\"/d/aqapp-ica\" style=\"text-decoration: none\">\n  \n  <div class=\"button-container\">\n\n    <div class=\"button-container-overlay\"></div>\n    \n    <div class=\"button-container-left\">\n      <span><span class=\"fa fa-info\"></span></span>\n    </div>\n    \n    <div class=\"button-container-right\">\n      <h1>Air Quality Index (ICA)</h1>\n    </div>\n\n  </div>\n\n</a>"
      },
      "pluginVersion": "8.5.2",
      "transparent": true,
      "type": "text"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "grafana"
      },
      "gridPos": {
        "h": 2,
        "w": 6,
        "x": 18,
        "y": 6
      },
      "id": 7,
      "options": {
        "mode": "html",
        "content": "<style>\n\n  .button-container {\n    width: 100%;\n    height: 50px;\n    background: #c1101c;\n    padding: 0 10px;\n    transition: 0.3s ease all;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .button-container:hover {\n    background: #611927;\n  }\n\n  .button-container-overlay {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    mix-blend-mode: multiply;\n    background: url('https://demo.hopu.eu/public/img/heatmap_bg_test.svg') no-repeat center center;\n    background-size: cover;\n  }\n\n  .button-container-left {\n    float: left;\n    width: 30px;\n    height: 30px;\n    margin: 10px 0;\n    background: #fff;\n    text-align: center;\n    position: relative;\n    z-index: 1;\n  }\n\n  .button-container-left span {\n    color: #c1101c;\n    line-height: 30px;\n    font-weight: 700;\n    font-size: 18px;\n  }\n\n  .button-container-right {\n    float: right;\n    width: calc(100% - 50px);\n    height: 50px;\n    margin: 0;\n    position: relative;\n    z-index: 1;\n  }\n\n  .button-container-right h1 {\n    color: #fff;\n    font-family: 'Anton', sans-serif;\n    font-size: 16px;\n    line-height: 50px\n  }\n\n</style>\n\n<a href=\"/d/aqapp-po\" style=\"text-decoration: none\">\n  \n  <div class=\"button-container\">\n\n    <div class=\"button-container-overlay\"></div>\n    \n    <div class=\"button-container-left\">\n      <span><span class=\"fa fa-info\"></span></span>\n    </div>\n    \n    <div class=\"button-container-right\">\n      <h1>Air Quality - Pollutants</h1>\n    </div>\n\n  </div>\n\n</a>"
      },
      "pluginVersion": "8.5.2",
      "transparent": true,
      "type": "text"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "grafana"
      },
      "gridPos": {
        "h": 2,
        "w": 6,
        "x": 18,
        "y": 8
      },
      "id": 6,
      "options": {
        "mode": "html",
        "content": "<style>\n\n  .button-container {\n    width: 100%;\n    height: 50px;\n    background: #c1101c;\n    padding: 0 10px;\n    transition: 0.3s ease all;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .button-container:hover {\n    background: #611927;\n  }\n\n  .button-container-overlay {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    mix-blend-mode: multiply;\n    background: url('https://demo.hopu.eu/public/img/heatmap_bg_test.svg') no-repeat center center;\n    background-size: cover;\n  }\n\n  .button-container-left {\n    float: left;\n    width: 30px;\n    height: 30px;\n    margin: 10px 0;\n    background: #fff;\n    text-align: center;\n    position: relative;\n    z-index: 1;\n  }\n\n  .button-container-left span {\n    color: #c1101c;\n    line-height: 30px;\n    font-weight: 700;\n    font-size: 18px;\n  }\n\n  .button-container-right {\n    float: right;\n    width: calc(100% - 50px);\n    height: 50px;\n    margin: 0;\n    position: relative;\n    z-index: 1;\n  }\n\n  .button-container-right h1 {\n    color: #fff;\n    font-family: 'Anton', sans-serif;\n    font-size: 16px;\n    line-height: 50px\n  }\n\n</style>\n\n<a href=\"/d/aqapp-pm\" style=\"text-decoration: none\">\n  \n  <div class=\"button-container\">\n\n    <div class=\"button-container-overlay\"></div>\n    \n    <div class=\"button-container-left\">\n      <span><span class=\"fa fa-info\"></span></span>\n    </div>\n    \n    <div class=\"button-container-right\">\n      <h1>Air Quality - Particulate matter</h1>\n    </div>\n\n  </div>\n\n</a>"
      },
      "pluginVersion": "8.5.2",
      "transparent": true,
      "type": "text"
    }
  ],
  "schemaVersion": 36,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "AirQuality",
          "value": "AirQuality"
        },
        "hide": 2,
        "includeAll": false,
        "multi": false,
        "name": "service",
        "options": [
          {
            "selected": true,
            "text": "AirQuality",
            "value": "AirQuality"
          }
        ],
        "query": "Device",
        "skipUrlSync": false,
        "type": "custom"
      },
      {
        "current": {
          "selected": false,
          "text": "/data",
          "value": "/data"
        },
        "hide": 2,
        "includeAll": false,
        "multi": false,
        "name": "servicepath",
        "options": [
          {
            "selected": true,
            "text": "/data",
            "value": "/data"
          }
        ],
        "query": "/data",
        "skipUrlSync": false,
        "type": "custom"
      },
      {
        "current": {
          "selected": false,
          "text": "AirQualityObserved",
          "value": "AirQualityObserved"
        },
        "hide": 2,
        "includeAll": false,
        "multi": false,
        "name": "type",
        "options": [
          {
            "selected": true,
            "text": "AirQualityObserved",
            "value": "AirQualityObserved"
          }
        ],
        "query": "Device",
        "skipUrlSync": false,
        "type": "custom"
      }
    ]
  },
  "time": {
    "from": "now-2d",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Air Quality Data Monitor",
  "uid": "aqapp-home",
  "version": 1,
  "weekStart": ""
}
